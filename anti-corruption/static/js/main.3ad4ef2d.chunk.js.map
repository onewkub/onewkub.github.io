{"version":3,"sources":["assets/banner.png","assets/not-found-image.jpg","components/Home.tsx","services/BcryptService/index.tsx","components/Add-Comment.tsx","components/DeleteModal.tsx","components/Content.tsx","components/About.tsx","components/Footer.tsx","services/FirebaseService/index.ts","store/reducers/index.ts","store/index.ts","components/VideoContent.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["Title","Typography","Home","className","xs","sm","md","style","display","alignItems","src","Banner","alt","preview","fallback","NotFoundImage","level","padding","size","type","marginBottom","width","danger","icon","VideoCameraOutlined","onClick","document","getElementById","scrollIntoView","behavior","CommentOutlined","salt","bcrypt","genSaltSync","hashPassword","plainTextPassword","a","hash","comparePassword","compare","rlt","AddComment","Form","useForm","form","firestore","useFirestore","handleOnClick","_form","comment","created","Date","console","log","deleteCode","collection","doc","set","resetFields","error","onFinish","Item","name","rules","required","message","placeholder","TextArea","textAlign","htmlType","Paragraph","DeleteModal","props","timeout","_timer","open","closeDialog","useState","validateStatus","setValidateStatus","undefined","help","setHelp","timer","setTimer","secondToGo","setSecondToGo","useEffect","clearTimeout","clearInterval","handleOnOk","value","password","id","delete","setInterval","prev","setTimeout","handleOnCancel","visible","maskClosable","onCancel","footer","writer","labelCol","span","wrapperCol","onValuesChange","label","hasFeedback","marginRight","TimeAgo","addLocale","th","Content","timeAgo","deleteModal","setDeleteModal","selected","setSelected","page","setPage","useFirestoreConnect","orderBy","messages","useSelector","state","ordered","isLoaded","textTransform","gutter","slice","map","item","index","lg","height","handleOnClickDelete","minHeight","format","toDate","justifyContent","length","About","AboutUs","bodyStyle","image","margin","year","faculty","Footer","color","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","rootReducer","combineReducers","firebaseReducer","firestoreReducer","store","createStore","applyMiddleware","thunk","VideoContent","youtube_id","data","videos","videoId","opts","rrfProps","config","userProfile","useFirestoreForProfile","dispatch","createFirestoreInstance","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render"],"mappings":"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","file":"static/js/main.3ad4ef2d.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/banner.3a9d2536.png\";","export default __webpack_public_path__ + \"static/media/not-found-image.302ec864.jpg\";","import Banner from 'assets/banner.png'\r\nimport NotFoundImage from 'assets/not-found-image.jpg'\r\nimport { Row, Col, Typography, Image, Button } from 'antd'\r\nimport { CommentOutlined, VideoCameraOutlined } from '@ant-design/icons'\r\n\r\nconst { Title } = Typography\r\n\r\nfunction Home() {\r\n  return (\r\n    <Row className=\"App-Banner\">\r\n      <Col xs={24} sm={24} md={14} className=\"banner-logo\">\r\n        <div style={{ display: 'flex', alignItems: 'center' }}>\r\n          <Image\r\n            className=\"banner-img\"\r\n            src={Banner}\r\n            alt=\"banner of site\"\r\n            preview={false}\r\n            fallback={NotFoundImage}\r\n          />\r\n        </div>\r\n      </Col>\r\n      <Col xs={24} sm={24} md={10} className=\"banner-content\">\r\n        <Title className=\"banner-title\">Anti Corruption</Title>\r\n        <Title level={3}>มุมมอง และ ความหมาย ของการทุตริต</Title>\r\n        <Title level={4}>Chiangmai University</Title>\r\n        <div style={{ padding: '24px 0' }}>\r\n          <Button\r\n            size=\"large\"\r\n            type=\"primary\"\r\n            style={{ marginBottom: 6, width: 180 }}\r\n            danger\r\n            icon={<VideoCameraOutlined />}\r\n            onClick={() =>\r\n              document\r\n                .getElementById('video')\r\n                ?.scrollIntoView({ behavior: 'smooth' })\r\n            }\r\n          >\r\n            ดูวีดีโอ\r\n          </Button>\r\n          <br />\r\n          <Button\r\n            size=\"large\"\r\n            type=\"primary\"\r\n            style={{ width: 180 }}\r\n            icon={<CommentOutlined />}\r\n            onClick={() =>\r\n              document\r\n                .getElementById('comment')\r\n                ?.scrollIntoView({ behavior: 'smooth' })\r\n            }\r\n          >\r\n            แสดงความคิดเห็น\r\n          </Button>\r\n        </div>\r\n      </Col>\r\n    </Row>\r\n  )\r\n}\r\n\r\nexport default Home\r\n","import bcrypt from 'bcryptjs'\r\n\r\nconst salt = bcrypt.genSaltSync(10)\r\n\r\nexport async function hashPassword(plainTextPassword: string) {\r\n  const hash = await bcrypt.hash(plainTextPassword, salt)\r\n  return hash\r\n}\r\n\r\nexport async function comparePassword(plainTextPassword: string, hash: string) {\r\n  const rlt = await bcrypt.compare(plainTextPassword, hash)\r\n  return rlt\r\n}\r\n","import { Input, Typography, Button, Form } from 'antd'\r\nimport { IMessage } from 'models/message'\r\n// import { useState } from 'react'\r\nimport { useFirestore } from 'react-redux-firebase'\r\n\r\n// import bcrypt from 'bcryptjs'\r\nimport { comparePassword, hashPassword } from 'services/BcryptService'\r\n\r\nconst { Title } = Typography\r\nfunction AddComment() {\r\n  const [form] = Form.useForm()\r\n  // const [form, setForm] = useState<IMessage>({\r\n  //   writer: '',\r\n  //   message: '',\r\n  //   deleteCode: '',\r\n  // })\r\n  const firestore = useFirestore()\r\n  // const handleOnChange = (value: any, field: string) => {\r\n  //   switch (field) {\r\n  //     case 'message':\r\n  //       return setForm((prev) => ({ ...prev, message: value }))\r\n  //     case 'writer':\r\n  //       return setForm((prev) => ({ ...prev, writer: value }))\r\n  //     case 'deleteCode':\r\n  //       return setForm((prev) => ({ ...prev, deleteCode: value }))\r\n  //     default:\r\n  //       return\r\n  //   }\r\n  // }\r\n\r\n  const handleOnClick = async (_form: IMessage) => {\r\n    try {\r\n      let comment = { ..._form, created: new Date() }\r\n      console.log(comment)\r\n      const hash = await hashPassword(_form.deleteCode)\r\n      comment = { ...comment, deleteCode: hash }\r\n\r\n      const rlt = await comparePassword(_form.deleteCode, hash)\r\n\r\n      console.log('compare status: ', rlt)\r\n\r\n      await firestore.collection('messages').doc().set(comment)\r\n\r\n      // setForm({\r\n      //   writer: '',\r\n      //   message: '',\r\n      //   deleteCode: '',\r\n      // })\r\n      form.resetFields()\r\n    } catch (error) {\r\n      console.error(error)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"comment-box\">\r\n      <Title level={2}>แสดงความคิดเห็น</Title>\r\n      <Form form={form} onFinish={handleOnClick}>\r\n        <Form.Item name=\"writer\" rules={[{required: true, message: 'กรุณาใส่ชื่อผู้เขียน'}]}>\r\n          <Input\r\n            // onChange={(e) => handleOnChange(e.target.value, 'writer')}\r\n            // value={form.writer}\r\n            placeholder=\"ชื่อผู้เขียน\"\r\n          />\r\n        </Form.Item>\r\n        <Form.Item name=\"message\" rules={[{required: true, message: 'กรุณาใส่ความคิดเห็น'}]}>\r\n          <Input.TextArea\r\n            // onChange={(e) => handleOnChange(e.target.value, 'message')}\r\n            // value={form.message}\r\n            placeholder=\"ความคิดเห็น\"\r\n          />\r\n        </Form.Item>\r\n        <Form.Item name=\"deleteCode\" rules={[{required: true, message: 'กรุณาใส่รหัสเพื่อใช้ลบความคิดเห็น'}]}>\r\n          <Input\r\n            // onChange={(e) => handleOnChange(e.target.value, 'deleteCode')}\r\n            placeholder=\"รหัสสำหรับลบความเห็น\"\r\n            // value={form.deleteCode}\r\n            type=\"password\"\r\n          />\r\n        </Form.Item>\r\n\r\n        <div style={{ marginBottom: 8, textAlign: 'right' }}>\r\n          <Button htmlType=\"submit\" type=\"primary\">\r\n            ส่งความคิดเห็น\r\n          </Button>\r\n        </div>\r\n      </Form>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default AddComment\r\n","import { Input, Modal, Typography, Form, Button } from 'antd'\r\nimport { IMessage } from 'models/message'\r\nimport { useEffect, useState } from 'react'\r\nimport { comparePassword } from 'services/BcryptService'\r\nimport { useFirestore } from 'react-redux-firebase'\r\nimport { ValidateStatus } from 'antd/lib/form/FormItem'\r\n\r\nconst { Title, Paragraph } = Typography\r\n\r\ninterface IProps {\r\n  open: boolean\r\n  message?: IMessage\r\n  closeDialog: () => void\r\n}\r\n\r\nfunction DeleteModal(props: IProps) {\r\n  const { open, message, closeDialog } = props\r\n  const firestore = useFirestore()\r\n  const [form] = Form.useForm()\r\n  const [validateStatus, setValidateStatus] = useState<ValidateStatus>('')\r\n  const [help, setHelp] = useState<string | undefined>(undefined)\r\n  const [timer, setTimer] = useState<boolean>(false)\r\n  const [secondToGo, setSecondToGo] = useState<number>(3)\r\n\r\n  let timeout: NodeJS.Timeout\r\n  let _timer: NodeJS.Timeout\r\n\r\n  useEffect(() => {\r\n    console.log('Load Modal')\r\n    return () => {\r\n      clearTimeout(timeout)\r\n      clearInterval(_timer)\r\n    }\r\n    // eslint-disable-next-line\r\n  }, [])\r\n\r\n  const handleOnOk = async (value: { password: string }) => {\r\n    const { password } = value\r\n    if (!password || password === '') {\r\n      setValidateStatus('error')\r\n      setHelp('กรุณาใส่รหัสผ่านสำหรับลบความเห็น')\r\n      return\r\n    }\r\n    if (message) {\r\n      setValidateStatus('validating')\r\n      const rlt: boolean = await comparePassword(password, message.deleteCode)\r\n      if (rlt) {\r\n        try {\r\n          await firestore.collection('messages').doc(message.id).delete()\r\n          setValidateStatus('success')\r\n          console.log('Delete Success')\r\n          setTimer(true)\r\n          _timer = setInterval(() => {\r\n            setSecondToGo((prev) => prev - 1)\r\n          }, 1000)\r\n          timeout = setTimeout(() => {\r\n            clearInterval(_timer)\r\n            closeDialog()\r\n          }, secondToGo * 1000)\r\n        } catch (error) {\r\n          console.error(error)\r\n          setHelp('มีบางอย่างผิดพลาด')\r\n          setValidateStatus('error')\r\n        }\r\n      } else {\r\n        setValidateStatus('error')\r\n        setHelp('รหัสผ่านผิด')\r\n        console.log('Your password is incorrect.')\r\n        // setPassword('')\r\n      }\r\n    }\r\n  }\r\n\r\n  const handleOnCancel = () => {\r\n    setTimer(false)\r\n    setSecondToGo(3)\r\n    setValidateStatus('')\r\n    closeDialog()\r\n    form.resetFields()\r\n  }\r\n\r\n  const handleOnChange = (value: { password: string }) => {\r\n    const { password } = value\r\n    // console.log(value)\r\n    if (!password || password === '') {\r\n      setValidateStatus('error')\r\n      setHelp('กรุณาใส่รหัสผ่านสำหรับลบความเห็น')\r\n      return\r\n    }\r\n    setValidateStatus('')\r\n    setHelp(undefined)\r\n  }\r\n\r\n  return (\r\n    <Modal\r\n      className=\"delete-modal\"\r\n      visible={open}\r\n      maskClosable={false}\r\n      onCancel={handleOnCancel}\r\n      footer={null}\r\n    >\r\n      <Title level={4}>ลบความเห็น</Title>\r\n      <Paragraph>\r\n        ผู้เขียน <b>{message?.writer}</b>\r\n      </Paragraph>\r\n\r\n      <Form\r\n        form={form}\r\n        onFinish={handleOnOk}\r\n        labelCol={{ span: 6 }}\r\n        wrapperCol={{ span: 18 }}\r\n        onValuesChange={handleOnChange}\r\n      >\r\n        <Form.Item\r\n          label=\"รหัสลบข้อความ\"\r\n          name=\"password\"\r\n          hasFeedback\r\n          validateStatus={validateStatus}\r\n          help={help}\r\n        >\r\n          <Input placeholder=\"รหัสสำหรับลบความเห็น\" type=\"password\" />\r\n        </Form.Item>\r\n        <div style={{ textAlign: 'center' }}>\r\n          {timer && (\r\n            <Paragraph>กล่องจะถูกปิดลงภายใน {secondToGo} วินาที</Paragraph>\r\n          )}\r\n        </div>\r\n        {!timer && (\r\n          <div className=\"delete-modal-action\">\r\n            <div>\r\n              <Button\r\n                htmlType=\"button\"\r\n                onClick={handleOnCancel}\r\n                style={{ marginRight: 8 }}\r\n              >\r\n                ยกเลิก\r\n              </Button>\r\n            </div>\r\n            <div>\r\n              <Button type=\"primary\" danger htmlType=\"submit\">\r\n                ลบข้อความ\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </Form>\r\n    </Modal>\r\n  )\r\n}\r\n\r\nexport default DeleteModal\r\n","import { useSelector } from 'react-redux'\r\nimport { IMessage } from 'models/message'\r\nimport TimeAgo from 'javascript-time-ago'\r\nimport th from 'javascript-time-ago/locale/th'\r\nimport { useFirestoreConnect, isLoaded } from 'react-redux-firebase'\r\nimport { RootState } from 'store/reducers'\r\nimport AddComment from './Add-Comment'\r\nimport { Typography, Card, Row, Col, Button } from 'antd'\r\nimport DeleteModal from './DeleteModal'\r\nimport { useState } from 'react'\r\n\r\nTimeAgo.addLocale(th)\r\n\r\nconst { Title } = Typography\r\nfunction Content() {\r\n  const timeAgo = new TimeAgo('th-TH')\r\n\r\n  const [deleteModal, setDeleteModal] = useState<boolean>(false)\r\n\r\n  const [selected, setSelected] = useState<IMessage | undefined>(undefined)\r\n\r\n  const [page, setPage] = useState<number>(0)\r\n\r\n  const handleNextPage = () => {\r\n    setPage((prev) => prev + 1)\r\n  }\r\n\r\n  const handleBackPage = () => {\r\n    setPage((prev) => prev - 1)\r\n  }\r\n\r\n  useFirestoreConnect<IMessage[]>([\r\n    { collection: 'messages', orderBy: ['created', 'desc'] },\r\n  ])\r\n\r\n  const messages: IMessage[] = useSelector(\r\n    (state: RootState) => state.firestore.ordered.messages,\r\n  )\r\n\r\n  const handleOnClickDelete = (item: IMessage) => {\r\n    setSelected(item)\r\n    setDeleteModal(true)\r\n  }\r\n\r\n  const closeDialog = () => {\r\n    setDeleteModal(false)\r\n    setSelected(undefined)\r\n  }\r\n\r\n  if (!isLoaded(messages)) {\r\n    return (\r\n      <div className=\"App-Content\">\r\n        <Title>Loading....</Title>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div className=\"App-Content\" id=\"comment\">\r\n      <Title style={{ textTransform: 'uppercase' }}>\r\n        ความเห็นเกี่ยวกับการทุจริต\r\n      </Title>\r\n      <div className=\"answer-board\">\r\n        <Row gutter={[8, 16]}>\r\n          {messages\r\n            .slice(page * 8, (page + 1) * 8)\r\n            .map((item: IMessage, index: number) => (\r\n              <Col\r\n                xs={24}\r\n                sm={12}\r\n                md={8}\r\n                lg={6}\r\n                key={index}\r\n                className=\"comment-card\"\r\n              >\r\n                <Card style={{ height: '100%' }}>\r\n                  <div style={{ textAlign: 'right' }}>\r\n                    <Button\r\n                      size=\"small\"\r\n                      type=\"link\"\r\n                      danger\r\n                      onClick={() => handleOnClickDelete(item)}\r\n                    >\r\n                      ลบข้อความ\r\n                    </Button>\r\n                  </div>\r\n                  <div style={{ minHeight: 180 }}>\r\n                    <Title level={4}>\" {item.message} \"</Title>\r\n                  </div>\r\n\r\n                  <div style={{ textAlign: 'right' }}>\r\n                    <label>\r\n                      เขียนโดย <b>{item.writer}</b>\r\n                    </label>\r\n                    <br />\r\n                    <label>{timeAgo.format(item.created.toDate())}</label>\r\n                  </div>\r\n                </Card>\r\n              </Col>\r\n            ))}\r\n        </Row>\r\n        <div style={{ justifyContent: 'space-between', display: 'flex' }}>\r\n          <div>\r\n            {page > 0 && (\r\n              <Button type=\"link\" onClick={handleBackPage}>\r\n                Back\r\n              </Button>\r\n            )}\r\n          </div>\r\n          <div>\r\n            {messages.length > (page + 1) * 8 && (\r\n              <Button type=\"link\" onClick={handleNextPage}>\r\n                Next\r\n              </Button>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className=\"comment-zone\">\r\n        <AddComment />\r\n      </div>\r\n      {deleteModal && (\r\n        <DeleteModal\r\n          open={deleteModal}\r\n          message={selected}\r\n          closeDialog={closeDialog}\r\n        />\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Content\r\n","import { Typography, Row, Col, Card, Image, Divider } from 'antd'\r\nimport NotFoundImage from 'assets/not-found-image.jpg'\r\nimport AboutUs from 'assets/about_us.json'\r\n\r\nconst { Title } = Typography\r\n\r\nfunction About() {\r\n  return (\r\n    <div className=\"App-About\">\r\n      <Title>เกี่ยวกับพวกเรา</Title>\r\n      <Row gutter={[8, 16]}>\r\n        {AboutUs.map((item, index) => (\r\n          <Col key={index} xs={24} sm={24} lg={12}>\r\n            <Card className=\"profile-card\" bodyStyle={{ padding: 4 }}>\r\n              <Row gutter={[8, 8]}>\r\n                <Col span={8}>\r\n                  <Image\r\n                    className=\"profile-image\"\r\n                    width=\"100%\"\r\n                    src={item.image}\r\n                    fallback={NotFoundImage}\r\n                  />\r\n                </Col>\r\n                <Col span={16} style={{ padding: 24 }}>\r\n                  <Title level={4}>\" {item.message} \"</Title>\r\n                  <Divider />\r\n                  <div style={{ textAlign: 'right' }}>\r\n                    <Title level={2} style={{ marginBottom: 2 }}>\r\n                      {item.name}\r\n                    </Title>\r\n                    <Title level={4} style={{ margin: 0 }}>\r\n                      นักศึกษาชั้นปีที่ {item.year} คณะ{item.faculty}\r\n                    </Title>\r\n                  </div>\r\n                </Col>\r\n              </Row>\r\n            </Card>\r\n          </Col>\r\n        ))}\r\n      </Row>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default About\r\n","import { Typography } from 'antd'\r\n\r\nconst { Title } = Typography\r\n\r\nfunction Footer() {\r\n  return (\r\n    <div className=\"App-Footer\">\r\n      <Title level={4} style={{ color: '#ffd5cd' }}>\r\n        เว็บไซต์นี้จัดทำเพื่อเก็บข้อมูลและนำเสนอความหมายของการทุจริตเพื่อเป็นรายงานนำเสนอในวิชา\r\n        Anti Corruption (140103)\r\n      </Title>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Footer\r\n","import firebase from 'firebase/app'\r\nimport 'firebase/firestore'\r\n\r\nconst firebaseConfig = {\r\n  apiKey: 'AIzaSyCVBBo-1hzJRtkeeyz4Z30lGkWJUcUPsao',\r\n  authDomain: 'anti-corruption-147d5.firebaseapp.com',\r\n  projectId: 'anti-corruption-147d5',\r\n  storageBucket: 'anti-corruption-147d5.appspot.com',\r\n  messagingSenderId: '508138849022',\r\n  appId: '1:508138849022:web:48d3784b8886ebc021dbaf',\r\n  measurementId: 'G-NRENQTBGM9',\r\n}\r\n\r\nfirebase.initializeApp(firebaseConfig)\r\nfirebase.firestore()\r\n\r\nexport default firebase\r\n","import { combineReducers } from 'redux'\r\nimport { firestoreReducer } from 'redux-firestore'\r\nimport { firebaseReducer } from 'react-redux-firebase'\r\n\r\nconst rootReducer = combineReducers({\r\n  firebase: firebaseReducer,\r\n  firestore: firestoreReducer,\r\n})\r\n\r\nexport type RootState = ReturnType<typeof rootReducer>\r\n\r\nexport default rootReducer\r\n","import { createStore, applyMiddleware } from 'redux'\r\nimport rootReducer from './reducers'\r\n// import logger from 'redux-logger'\r\nimport thunk from 'redux-thunk'\r\n\r\nconst store = createStore(rootReducer, applyMiddleware(thunk))\r\n\r\nexport default store\r\n","import { Typography } from 'antd'\r\nimport { useSelector } from 'react-redux'\r\nimport { useFirestoreConnect, isLoaded } from 'react-redux-firebase'\r\nimport YouTube from 'react-youtube'\r\nimport { RootState } from 'store/reducers'\r\n\r\nconst { Title } = Typography\r\n\r\nfunction VideoContent() {\r\n  const opts = {\r\n    height: '100%',\r\n    width: '100%',\r\n  }\r\n  useFirestoreConnect<{ id: string }>(() => [\r\n    { collection: 'videos', doc: 'youtube_id' },\r\n  ])\r\n  const youtube_id: string = useSelector((state: RootState) => {\r\n    // console.log(state.firestore.data.videos?.youtube_id.id)\r\n    return state.firestore.data.videos?.youtube_id.id\r\n    // return 'abc'\r\n  })\r\n\r\n  if (!isLoaded(youtube_id) || !youtube_id) {\r\n    return (\r\n      <div className=\"App-Video-content\" id=\"video\">\r\n        <Title>Loading...</Title>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div className=\"App-Video-content\" id=\"video\">\r\n      <Title>\r\n        วีดีโอสัมภาษณ์ความเห็นนักศึกษา คณะเกตรศาสตร์ มหาวิทยาลัยเชียงใหม่\r\n      </Title>\r\n      <YouTube className=\"video-box\" videoId={youtube_id} opts={opts} />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default VideoContent\r\n","import React from 'react'\nimport './App.less'\nimport HomeComponent from 'components/Home'\nimport ContentComponent from 'components/Content'\nimport AboutComponent from 'components/About'\nimport Footer from 'components/Footer'\nimport firebase from 'services/FirebaseService'\nimport { Provider } from 'react-redux'\nimport store from 'store'\nimport { createFirestoreInstance } from 'redux-firestore'\nimport {\n  ReactReduxFirebaseProvider,\n  ReactReduxFirebaseProviderProps,\n} from 'react-redux-firebase'\nimport VideoContent from 'components/VideoContent'\n\nconst rrfConfig = {\n  userProfile: 'users',\n  useFirestoreForProfile: true,\n}\n\nconst rrfProps: ReactReduxFirebaseProviderProps = {\n  firebase,\n  config: rrfConfig,\n  dispatch: store.dispatch,\n  createFirestoreInstance,\n}\n\nfunction App() {\n  return (\n    <Provider store={store}>\n      <ReactReduxFirebaseProvider {...rrfProps}>\n        <div className=\"App\">\n          <HomeComponent />\n          <VideoContent />\n          <ContentComponent />\n          <AboutComponent />\n          <Footer />\n        </div>\n      </ReactReduxFirebaseProvider>\n    </Provider>\n  )\n}\n\nexport default App\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './App'\nimport reportWebVitals from './reportWebVitals'\n\nReactDOM.render(\n  // <React.StrictMode>\n  <App />,\n  // </React.StrictMode>,\n  document.getElementById('root'),\n)\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals()\n"],"sourceRoot":""}